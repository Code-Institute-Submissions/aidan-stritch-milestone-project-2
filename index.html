<!DOCTYPE html>
<html>

<head class="container-fluid">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>City Trip Planner</title>

    <!-- load Bootstrap Framework -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.1.1/css/hover-min.css" type="text/css" />

    <!-- load JQuery Framework -->

    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>

    <!-- load Email.js Framework and link to account -->
    <script type="text/javascript" src="https://cdn.emailjs.com/sdk/2.3.2/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("user_I05a9IAUn6mSc6viL9RFK");
        })();
    </script>

    <!-- link to stylesheet -->
    <link rel="stylesheet" href="styles/main.css" type="text/css" />

</head>

<body class="container-fluid body-style">
    <!-- page header with list of steps -->
    <header class="container-fluid header-style">
        <div class="row header-color">
            <div class="col-md-12">
                <div class="col-sm-6 col-md-8">
                    <h1>City Trip Planner</h1>
                    <h3>Plan your next trip in 5 simple steps!</h3>
                </div>
                <div class="col-sm-6 col-md-4 header-list">
                    <ul>
                        <li>Step 1: Choose your city</li>
                        <li>Step 2: Narrow down your results</li>
                        <li>Step 3: See your results on our map</li>
                        <li>Step 4: Read more about your results</li>
                        <li>Step 5: Send yourself a summary of your search</li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <section class="container-fluid section-style">
        <div class="row">
            <!-- this area allows the customer to select popular cities by button -->
            <div class="col-md-12 step-one">
                <h2>Step 1: Choose your city</h2>
                <div class="select-city">
                    <h3>Choose from one of our most popular destinations</h3>
                    <button id="dublin">Dublin</button>
                    <button id="milan">Milan</button>
                    <button id="paris">Paris</button>
                    <button id="newYork">New York</button>
                    <button id="berlin">Berlin</button>

                    <h3>Or search for a particular city</h3>
                    <!-- this area allows the user to type in and select a city using the autocomplete places api -->
                    <form id="cityForm" onsubmit="return false">
                        <input type="text" class="form-control" name="city" id="cityName" placeholder="Search by city name..." />
                        <input type="submit" value="Select this city" class="form-button" />

                    </form>
                </div>
            </div>
        </div>


        <div class="row">
            <div class="col-md-6 step-two">
                <h2>Step 2: Narrow down your results</h2>
                <!-- this area allows the customer to narrow down the results they want to see in the chosen city -->
                <div class="narrow-results">
                    <h3>Choose what results you would like to see</h3>
                    <button id="attraction">Attractions</button>
                    <button id="accom">Accomodation</button>
                    <button id="bar">Bars & Restaurants</button>
                    <button id="all">All results</button>
                </div>
            </div>
            <!-- this area shows the currently selected options as well as the search and clear buttons -->
            <div class="col-md-6 current-selection">
                <h1>Current Selection</h1>
                <h3>Selected City:</h3>
                <h4 id="textCity">None</h4>
                <h3>Selected Search Type:</h3>
                <h4 id="textSearchType">None</h4>
                <button id=showResults onclick="requestLocations();">See Results</button>
                <button id="clearResults" onclick="clearResults();">Clear Results</button>

            </div>

        </div>

        <div class="row">
            <div class="col-md-12 step-three">
                <!-- this area shows the google map with the results for the chosen type and city -->
                <h2>Step 3: See your results on our map</h2>
                <div id="map"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 step-four">
                <!-- in this area, the customer sees the text form of the results giving additonal information for each -->
                <h2>Step 4: Read more about your results</h2>
                <div id="results">
                    <div class="row">
                        <div class="col-md-12" id="resultsRow"></div>
                        <button id="showMoreResults">Show More Results</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-md-12 step-five">
                <!-- here the user can enter their details and send themselves a copy of their search options using the email.js Framework -->
                <h2>Step 5: Send yourself a summary of your search</h2>
                <p>Add your details below and click "Send" and check your email for a summary of your City Trip Planner search!</p>
                <form id="contactForm" onsubmit="return sendMail(this);" method="POST">
                    <p>
                        <label>Your Name:</label>
                        <label class="requiredField">*required</label>
                        <input type="text" name="name" class="form-control" id="cust_name" placeholder="Enter Name" required/>
                    </p>
                    <p>
                        <label>Your Email Address:</label>
                        <label class="requiredField">*required</label>
                        <input type="text" name="email" class="form-control" id="email_address" placeholder="Enter Email Address" required/>
                    </p>
                    <p>
                        <label>Your Chosen City:</label>
                        <input type="text" name="city" class="form-control" id="city_name" placeholder="None Selected" readonly/>
                    </p>
                    <p>
                        <label>Your Chosen Search Type:</label>
                        <input type="text" name="search" class="form-control" id="search_type" placeholder="None Selected" readonly/>
                    </p>
                    <p>
                        <input type="submit" value="Send Email" class="form-button" />
                    </p>
                </form>
            </div>
        </div>
    </section>

    <footer class="container-fluid">
        <!-- this is just a simple footer element which can be updated to have links 
        to other pages once the website is fleshed out in a later project -->
        <div class="row container-fluid footer-style flex-layout">
            <div class="col-md-12 ">
                <h4>The 5 Step City Trip Planner Copyright 2019</h4>
            </div>
        </div>
    </footer>

    <!-- load scripts -->
    <script src="scripts/map.js"></script>
    <script src="scripts/sendEmail.js"></script>

    <!-- load scripts for map  -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxQwRApZQq4D_0iTu38MwdxUsiKrq4zu8&libraries=places,geometry&callback=initMap" async defer></script>

    <!-- disable the enter key from being pressed so that user cannot try to use enter to select autocomplete result -->
    <script>
        $('html').bind('keypress', function(enterKeyPress) {
            if (enterKeyPress.keyCode == 13) {
                return false;
            }
            if (enterKeyPress.keyCode == 176) {
                return false;
            }
        });
    </script>
</body>

</html>
